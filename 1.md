## requerimientos de diseño

## estructura 


### ENTRADAS INTERACCIÓN  
#### Botones
#### sensor 


### FMS
#### MODOS DE OPERACION
#### ESTADOS 
#### INTERACCIÓN Y TRANSICIONES
#### TEMPORIZADORES    
<<<<<<< HEAD


### VISUALIZACIÓN   
#### lcd
caja negra 
usa una fms


# ENTREGA FINAL DE PROYECTO 

# DISEÑO DE TAMAGOTCHI EN FPGA

Juan Manuel barrero mendoza\
Brayan Daniel Saidiza Amaya\
David Camilo Valbuena Molano


## OBJETIVO

Desarrollar un sistema de Tamagotchi en FPGA (Field-Programmable Gate Array) que simule el cuidado de una mascota virtual. El diseño incorporará una lógica de estados para reflejar las diversas necesidades y condiciones de la mascota, junto con mecanismos de interacción a través de sensores y botones que permitan al usuario cuidar adecuadamente de ella.

## REQUERIMIENTOS DE DISEÑO 

El alcance del proyecto se centra en la creación de un sistema básico de Tamagotchi, que incluirá:

Una interfaz de usuario operada mediante botones físicos, en este caso cuenta con 6 botones los cuales son (2) de navegación, (1) de selección,(1) botón para el modo prueba (test),(1) boton para reinicio (reset) y (1) boton de aceleración de tiempo.   

Al menos un sensor para ampliar las formas de interacción, en este caso un sensor de color el cual tendrá 2 funciones la primera alimentar el tamagotchi dependiendo del color,  y la segunda es para hacerlo dormir dependiendo la luminosidad que haya.

Un sistema de visualización para representar el estado actual y las necesidades de la mascota virtual, en este caso una pantalla LCD20x4, 4 filas y 20 columnas en las cuales apareceran el estado en el que se encuentra el tamagotchi y los valores de cada estado.

Este proyecto se diseñará e implementará utilizando la FPGA ciclone IV, con restricciones claras en términos de recursos de hardware disponibles. La implementación se detallará en Verilog.

## ESTRUCTURA
![](FIG/CAJA_NEGRA_GENERAL_2.png)

El proyecto sigue una estructura de "caja negra", en la que se manejan entradas y salidas específicas.

Entradas: Botones y sensor de color

Salida: Pantalla LCD 20x4

El sistema realiza las siguientes funciones principales:

Leer las entradas\
Actualizar los estados\
Visualizar o reflejar los estados en la salida

Y partiendo de lo anterior podemos dividir la estructura en tres subcomponentes clave:

Entradas o Interacciones\
Máquina de Estados Finita (FSM)\
Salida o Visualización

Comenzaremos entonces desglosando la estructura de la entrada. 

### ENTRADAS O INTERACCIONES

IMAGEN DE LAS CAJAS NEGRAS DE LAS ENTRADAS(1RA PARTE DE LA GENERAL)

#### BOTONES

La interacción usuario-sistema se realizará mediante los siguientes botones configurados:

Reset: Reestablece el Tamagotchi a un estado inicial conocido al mantener pulsado el botón durante al menos 5 segundos. Este estado inicial simula el despertar de la mascota con salud óptima.

Test: Activa el modo de prueba al mantener pulsado por al menos 5 segundos, permitiendo al usuario navegar entre los diferentes estados del Tamagotchi.

Navegación (2): Permiten desplazarse entre pantallas(Estados) del Tamagotchi.En el modo Test funcionan de la misma manera.

Selección: Al pulsarse permite al usuario unicamente aumentar el valor del sistema de puntos del respectivo estado (subir la puntuación) hasta el valor máximo y luego se detiene. En el modo test una vez que llega al máximo, si se vuelve a pulsar, va al valor mínimo de la puntuación y empieza a aumentar nuevamente si se pulsa (Puntuación rotativa).

Acelerador de Tiempo (Acel): Al presionarse le permite al usuario aumentar el tiempo en el que transcurren los eventos del tamagotchi en un determinado factor (x2,x4,x8,x16).

#### SENSOR 



### FSM

#### MODOS DE OPERACION
#### ESTADOS 
#### INTERACCIÓN Y TRANSICIONES
#### TEMPORIZADORES    


### SALIDA O VISUALIZACIÓN 

#### PANTALLA LCD 20X4 2004A 

La pantalla a utilizar sera una LCD 20X4 2004 ya que posee una mayor capacidad para mostrar caracteres, animaciones y texto que una matriz 8x8 y los displays de 7 segmentos.Esta pantalla posee 4 lineas y 20 caracteres por cada una de estas y cada carácter ocupa una celda de 5x8 puntos también, utiliza un conector de 16 pines para su interfaz, donde se incluyen pines para alimentación, datos y control.

![](FIG/PANTALLALCD.png)

Los pines de esta pantalla son los siguientes:


**VSS (Pin 1):** Tierra (GND). Conectado a la referencia de tierra del sistema.

**VDD (Pin 2):** Voltaje de alimentación positivo (VCC). Normalmente 5V DC.

**VO (Pin 3):** Entrada de ajuste de contraste. Se conecta a un potenciómetro para ajustar el contraste de la pantalla.

**RS (Pin 4):** Registro de selección (Register Select). Define si se envían datos o comandos al LCD.

0: Modo comando

1: Modo datos

**RW (Pin 5):** Lectura/Escritura (Read/Write). Define si se está leyendo o escribiendo en el LCD.

0: Modo escritura

1: Modo lectura

**E (Pin 6):** Habilitar (Enable). Permite al LCD captar los datos presentes en los pines de datos.

**D0-D7 (Pines 7-14):** Pines de datos (Data Pins). Usados para enviar datos y comandos al LCD.

**D0-D3 (Pines 7-10):** Pines de datos menos significativos (usados en modo de 8 bits).

**D4-D7 (Pines 11-14):** Pines de datos más significativos (usados en modo de 4 bits o 8 bits).

**A/VSS (Pin 15):** Anodo de retroiluminación (si está presente). Conectado a VCC a través de una resistencia limitadora de corriente.

**K/VDD (Pin 16):** Cátodo de retroiluminación (si está presente). Conectado a GND.

![](FIG/PINESPANTALLA.png)





